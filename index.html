<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>R22 Replacement Enquiry Form</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f4f6fa; /* page background */
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 900px;
    background: white; /* keeps outer frame clean */
    margin: 40px auto;
    padding: 0;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  header {
    display: flex;
    align-items: center;
    background-color: white;
    color: #001f4d;
    padding: 10px 20px;
    border-bottom: 2px solid #005aa9;
  }
  header img { height: 100px; margin-right: 15px; }
  header h2 { font-weight: bold; margin: 0; color: #001f4d; }
  /* Light-green section for the form only */
  .form-section {
    background-color: #e8f5e9; /* soft light green */
    padding: 30px 40px;
    border-top: 1px solid #a5d6a7;
  }
  .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    column-gap: 40px;
    row-gap: 15px;
  }
  label { display: block; font-weight: bold; margin-bottom: 5px; }
  input, select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  button {
    margin-top: 25px;
    padding: 10px 25px;
    font-size: 16px;
    background-color: #2e7d32;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover { background-color: #1b5e20; }
  #msg { margin-top: 15px; color: green; font-weight: bold; }
  @media (max-width: 700px) { .form-grid { grid-template-columns: 1fr; } }
</style>
  </head>
  <body>
    <div class="container">
      <header>
        <img src="https://i.postimg.cc/TwLXv9wp/Bluestar-Logo.png" alt="Bluestar Logo">
        <h2>R22 Replacement Enquiry Form</h2>
      </header>

      <div class="form-grid">
        <div>
          <label for="name">Name:</label>
          <input type="text" id="name" placeholder="Enter your name" required>

          <label for="email">Email ID:</label>
          <input type="email" id="email" placeholder="Enter your email" required>

          <label for="phone">Phone Number:</label>
          <input type="tel" id="phone" placeholder="Enter your phone number" required>

          <label for="state">Location State:</label>
          <select id="state" required>
            <option value="">--Select State--</option>
          </select>

          <label for="district">Location District:</label>
          <select id="district" required>
            <option value="">--Select District--</option>
          </select>
        </div>

        <div>
          <label for="productType">R22 Product Type:</label>
          <select id="productType" required>
            <option value="">--Select Product Type--</option>
            <option>Ductable Split / Packaged AC</option>
            <option>Scroll Chiller</option>
            <option>Screw Chiller</option>
            <option>Reciprocating Chiller</option>
            <option>Condensing Units</option>
          </select>

          <label for="capacity">R22 Product Total Capacity (in TR):</label>
          <input type="number" id="capacity" placeholder="e.g. 120" step="0.01" min="0" required>
        </div>
      </div>

      <button id="submitBtn">Submit</button>
      <p id="msg"></p>
    </div>

    <script>
      // Load state-district data from JSON
      fetch("states.json")
        .then(response => response.json())
        .then(data => {
          const stateDistrictMap = data;
          const stateSelect = document.getElementById("state");
          const districtSelect = document.getElementById("district");

          Object.keys(stateDistrictMap).sort().forEach(state => {
            const opt = document.createElement("option");
            opt.value = state;
            opt.text = state;
            stateSelect.add(opt);
          });

          stateSelect.addEventListener("change", () => {
            const state = stateSelect.value;
            districtSelect.innerHTML = '<option value="">--Select District--</option>';
            if (state && stateDistrictMap[state]) {
              stateDistrictMap[state].sort().forEach(d => {
                const opt = document.createElement("option");
                opt.value = d;
                opt.text = d;
                districtSelect.add(opt);
              });
            }
          });
        })
        .catch(err => {
          console.error("Error loading states.json:", err);
          alert("Error loading state and district data. Please try again later.");
        });
// Submit form
document.getElementById("submitBtn").addEventListener("click", function () {
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const state = document.getElementById("state").value;
  const district = document.getElementById("district").value;
  const productType = document.getElementById("productType").value;
  const capacity = document.getElementById("capacity").value.trim();

  if (!name || !email || !phone || !state || !district || !productType || !capacity) {
    alert("Please fill all fields.");
    return;
  }
  const payload = { name, email, phone, state, district, productType, capacity };
  fetch("https://script.google.com/macros/s/AKfycbzqp-CHS8nai14KgMnQBiEqgbI6sGF1XeXHnD9bIMf0Oai7WtKWykz6TOoMuCWTOWLu1g/exec", {
    method: "POST",
    mode: "no-cors",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(payload)
  });
  document.querySelector(".container").innerHTML = `
    <p id="msg" style="font-size: 1.5em; color: #005aa9; font-weight: bold; text-align: center;">
      Thanks for your enquiry. Our team shall soon get back to you.
    </p>`;
});
    </script>
  </body>
</html>
